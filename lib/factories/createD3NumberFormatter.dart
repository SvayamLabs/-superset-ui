 import "package:d3-format.dart" show d3Format , formatLocale , FormatLocaleDefinition ; import "package:@superset-ui/core.dart" show isRequired ; import "../types.dart" show NumberFormatFunction ; createD3NumberFormatter ( dynamic config ) { final = config ; NumberFormatFunction formatFunc ; var isInvalid = false ; try { formatFunc = identical ( , "undefined" ) ? d3Format ( formatString ) : formatLocale ( locale ) . format ( formatString ) ; } catch ( error , error_stack ) { formatFunc = ( value ) => '''${ value} (Invalid format: ${ formatString})''' ; isInvalid = true ; } return new NumberFormatter ( { "description" : description , "formatFunc" : formatFunc , "id" : formatString , "isInvalid" : isInvalid , "label" : label } ) ; }